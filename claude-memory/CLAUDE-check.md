# 检查清单

## 任务开始前检查清单

### 📋 每次任务开始必检项
- [ ] **检阅@CLAUDE.md** - 确保理解最新的项目规范和要求
- [ ] **检查CLAUDE文件变更状态** - 检查claude-memory目录下所有以CLAUDE开头的文件在上次git提交后是否有未提交的变更
- [ ] **处理未提交变更** - 如有未提交改动，分析改动内容并进行提交，在提交信息中描述当前状态
- [ ] **识别任务复杂度** - 判断是否需要使用Sequential-Thinking进行结构化分析
- [ ] **获取实时时间** - 当任务涉及时间时，执行: `python -c "import datetime; print(datetime.datetime.today())"`

## 设计阶段检查清单

### 🎯 流程设计完成标准
- [ ] **总览流程已绘制** - 涵盖所有主要功能点
- [ ] **复杂模块已独立** - 超过合理复杂度的流程提取为独立模块
- [ ] **接口定义清晰** - 各模块输入/输出/处理逻辑明确
- [ ] **决策点已明确** - 关键决策分支清晰定义
- [ ] **异常处理完备** - 异常处理路径已考虑
- [ ] **依赖关系明确** - 模块间依赖关系清晰

### 🔍 不明确点检查
- [ ] **歧义性问题** - 是否存在多种可能的解释或实现方案
- [ ] **目的不明确** - 功能目标或业务需求是否表述模糊  
- [ ] **优化机会** - 是否存在更优解决方案
- [ ] **未知问题** - 遇到不清楚的问题时是否明确询问用户

## 执行阶段检查清单

### 💻 开发过程检查（编程任务）
- [ ] **专业化代理选择** - 是否选择了最适合的开发代理
- [ ] **编码规范遵循** - 是否遵循项目既定的代码风格和约定
- [ ] **测试验证完成** - 单元测试和集成测试是否通过

### 🎯 编码原则检查（编程任务）
- [ ] **KISS原则检查** - 代码和设计是否保持简洁直观，避免不必要的复杂性
- [ ] **YAGNI原则检查** - 是否只实现当前明确需要的功能，避免过度设计
- [ ] **DRY原则检查** - 是否识别并消除了重复代码，创建了可复用组件
- [ ] **SOLID原则检查**:
  - [ ] **单一职责** - 各组件、类、函数是否职责单一
  - [ ] **开放/封闭** - 功能扩展是否无需修改现有代码
  - [ ] **接口隔离** - 接口是否专一，避免"胖接口"
  - [ ] **依赖倒置** - 是否依赖抽象而非具体实现
- [ ] **原则应用记录** - 是否记录了具体如何应用原则以及带来的改进效果

### 📝 通用执行检查
- [ ] **分步提交机制** - 每完成一个步骤的一批文档修改后，都要先进行仓库提交再进行下一步
- [ ] **流程图生成** - 流程图文件完成后是否立即生成对应的png文件
- [ ] **质量标准遵循** - 是否保持可读性和可维护性
- [ ] **文档同步更新** - 变更时是否同步更新相关设计文档

## 完成后检查清单

### 📄 文档更新检查
- [ ] **更新CLAUDE.md** - 相关变动是否写入@CLAUDE.md
- [ ] **记录新约定** - 新增的约定或规范是否记录
- [ ] **更新变更内容** - 已变更的流程或要求是否更新

### 🔄 版本控制检查（代码项目）
- [ ] **Git提交创建** - 是否创建了清晰的提交信息
- [ ] **提交规范遵循** - 是否遵循约定式提交规范（feat:、fix:、docs:、refactor:）
- [ ] **提交原子性** - 一个提交是否只做一件事
- [ ] **Changelog维护** - 是否更新CHANGELOG.md文件，在每次提交前检查仓库变更以决定是否需要更新CHANGELOG
- [ ] **分支管理** - 是否在正确的分支进行开发

### 🧹 任务完成后清理检查
- [ ] **CHANGELOG版本结束** - 维护CHANGELOG并进行提交后，结束当前Unreleased版本，更新版本号，添加新的Unreleased
- [ ] **清理CLAUDE.md** - 删除CLAUDE.md中**本次任务内容**标题下一行开始的所有内容，保留标题本身
- [ ] **清理now-task.md** - 删除now-task.md中除了第一行之外的所有内容
- [ ] **删除undetermined.md** - 删除undetermined.md文件（如存在）

### ✅ 质量保证检查
- [ ] **决策记录** - 重要设计决策是否在CLAUDE.md中记录原因
- [ ] **流程验证** - 新功能开发前是否验证现有流程图的准确性
- [ ] **回滚准备** - 是否保持可回滚状态，记录回滚步骤
- [ ] **编码原则遵循验证** - 最终代码是否体现KISS、YAGNI、DRY、SOLID原则
- [ ] **原则效果评估** - 是否记录了应用编码原则后的具体改进效果（代码量、性能、可维护性等）

## 使用说明

### 检查时机
1. **任务开始时** - 执行"任务开始前检查清单"
2. **设计阶段** - 完成设计后执行"设计阶段检查清单"  
3. **执行过程中** - 根据任务类型执行对应的"执行阶段检查清单"
4. **任务完成时** - 执行"完成后检查清单"

### 适用场景
- **编程开发任务** - 使用完整检查清单
- **通用任务** - 跳过编程特定的检查项
- **文档编辑** - 主要关注设计、执行和文档更新检查