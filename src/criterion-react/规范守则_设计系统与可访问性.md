# 规范守则 - 设计系统与可访问性

## 项目类型
- 设计系统（Design System）、组件库、可访问性优先的React应用，强调UI一致性与多团队协作。

## 核心原则
### 1. 设计系统建设
- 使用 Monorepo（Turborepo、Nx）管理 `packages/ui`、`packages/tokens`、`packages/utils`。
- 通过 Storybook/ Ladle 建立可视化文档，结合 `@storybook/addon-a11y` 自动检测无障碍问题。
- 设计Token使用 Style Dictionary 或 `@vanilla-extract/css` 保持类型安全。

### 2. 可访问性（a11y）
- 参考 [React Accessibility 指南](https://react.dev/learn/accessibility) 与 WAI-ARIA 标准。
- 使用 TypeScript 提前捕获可访问性错误：自定义 `ARIAAttributes` 类型封装常用组件。
- 表单组件遵循 label/aria-describedby 绑定；焦点管理使用 `@react-aria`、`focus-trap`。

### 3. 组件规范
- 组件接受 `className`、`style` 等透传属性；同时提供 `as` prop 以支持多标签渲染。
- 编写单元测试与视觉回归测试（Chromatic），确保组件在主题切换、暗色模式下表现一致。
- 发布前利用 `changeset` 记录版本历史并生成发布说明。

## 项目结构示例
```
design-system/
├── packages/
│   ├── ui/
│   │   ├── src/Button.tsx
│   │   ├── src/Typography.tsx
│   │   └── index.ts
│   ├── tokens/
│   │   └── src/index.ts
│   └── utils/
├── apps/
│   └── storybook/
├── .storybook/
└── tsconfig.base.json
```

## 测试与质量
- Storybook + Chromatic/Applitools 自动化视觉测试。
- Accessibility 测试：`@testing-library/react` + `axe-core`、`jest-axe`。
- Lint：`eslint-plugin-jsx-a11y`、`typescript-eslint`、`stylelint`。

## 参考资料
- [React Accessibility Guide](https://react.dev/learn/accessibility)
- [TypeScript Accessibility Patterns](https://blog.srcinnovations.com.au/2025/09/11/level-up-your-react-apps-typescript-tricks-for-accessibility/)
- [Storybook A11y Addon](https://storybook.js.org/addons/@storybook/addon-a11y)
- [Design Tokens with Style Dictionary](https://amzn.github.io/style-dictionary/#/)
